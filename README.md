# 온디바이스 환경에서 멀티모달 AI의 효율적 실행을 위한 NPU 설계 연구
---
## 🦾 Team ModalArc
이화여자대학교 캡스톤디자인과창업프로젝트 연구 팀<br>
하정연, 최윤지, 이지현

## 🔑 Research Keywords
`NPU` | `On-device AI` | `Multimodal AI` | `Architecture design`

## 💡 Background

**멀티모달 AI의 부상과 온디바이스 컴퓨팅의 중요성**<br>
최근 Google, Tesla와 같은 글로벌 기업들이 자율주행, 로봇, 스마트 디바이스 등 다양한 분야에서 멀티모달 AI를 핵심 기술로 채택하며 그 수요가 급증하고 있습니다. 멀티모달 AI는 이미지, 텍스트, 음성, 액션 등 여러 종류의 데이터를 실시간으로 함께 처리하여 기존 AI 모델보다 훨씬 더 풍부한 정보를 이해하고 복합적인 추론을 수행합니다. 이러한 복잡한 AI 모델을 클라우드 서버에 의존하지 않고, 저전력, 저지연성이 필수적인 온디바이스 환경에서 직접 실행하는 것이 중요한 과제로 떠오르고 있습니다.

**기존 NPU의 한계 및 기술적 도전 과제**<br>
현재 시장에 출시된 대부분의 상용 NPU는 단일 데이터 타입(주로 이미지) 처리에 최적화되어, CNN 연산에 초점을 맞추고 있습니다. 하지만 멀티모달 AI는 이질적인 데이터를 동시에 다루기에 다음과 같은 기술적 문제를 야기합니다.

* **Data Heterogeneity로 인한 비효율성**: 이미지, 텍스트, 음성 데이터는 각각 고유한 형태와 연산 패턴을 가지고 있습니다. 기존 NPU는 이러한 이질적인 데이터를 동시에 처리하는 데 적합하지 않아, 하드웨어 자원의 활용도가 낮아지고 연산 효율이 떨어집니다.
* **Memory Bottleneck 현상**: 멀티모달 모델은 여러 종류의 데이터를 융합하는 과정에서 서로 다른 메모리 영역에 저장된 데이터를 동시에 가져와야 합니다. 이로 인해 한정된 Memory Bandwidth을 두고 여러 연산 유닛이 경쟁하는 Contention이 발생하며, 이는 전체 시스템의 성능을 저하시키는 주요 원인이 됩니다.

이러한 문제들 때문에 기존 NPU에 멀티모달 AI 모델을 그대로 적용하면 성능 저하, 전력 소모 증가 등 여러 비효율이 발생합니다. 따라서 온디바이스라는 환경을 고려함과 동시에 멀티모달 AI에 특화된 **새로운 NPU 아키텍처 연구**가 필수적입니다. 

## 🎯 Research Topic and Methodology
본 프로젝트는 온디바이스 환경에서 멀티모달 AI를 효율적으로 실행하기 위한 NPU 아키텍처를 제안하고, 이를 시뮬레이터를 통해 검증하는 것을 목표로 합니다.

### 1. 선행 연구 분석 및 문제 정의
* 우선 멀티 DNN과 관련된 선행 연구 논문들을 심층적으로 분석합니다. 이 과정에서 Heterogeneous Workload Imbalance, Memory Bandwidth Contention, Scheduling, QoS 등 기존 연구가 충분히 고려하지 못한 문제들을 파악합니다.
* GitHub에 오픈 소스로 공개된 SCALE-Sim NPU 기본 시뮬레이터를 사용하여, 이미지와 텍스트를 조합한 소규모의 대표적인 멀티모달 모델(CLIP)을 실행합니다. 이때 메모리 접근 패턴, 연산량, 지연 시간 등의 데이터를 분석하여, 성능 병목 현상과 비효율성을 직접 확인하고, 이를 개선하기 위한 설계의 논리적 근거를 마련합니다.

### 2. 아키텍처 제안 및 시뮬레이터 확장
파악한 문제들을 해결하고, 멀티모달 AI의 특성과 온디바이스 환경을 고려하여 다음 세부 사항들을 포함한 NPU 아키텍처를 제안합니다. 기존 시뮬레이터의 코드를 수정하거나, 멀티모달 모델에 특화된 연산을 처리하는 새로운 기능을 모듈로 추가하여 시뮬레이션 환경을 확장합니다.

* **데이터 흐름 최적화**<br>
멀티모달 AI는 이미지, 음성, 텍스트 등 다양한 데이터를 동시에 처리해야 하므로, 데이터 이동 경로와 재사용 방식이 전체 효율에 큰 영향을 미칩니다. 데이터 전송량을 최소화하여 에너지 소비를 줄이고 지연 시간을 단축하는 것이 핵심입니다. 이를 위해 weight-stationary, row-stationary와 같은 기존 데이터 흐름을 적용하되, 멀티모달 특성에 맞게 동일한 데이터를 여러 연산에 재사용하거나 modality 간 feature map을 공유할 수 있는 데이터 배치를 설계합니다.

* **이질적인 자원 관리**<br>
이미지 처리는 CNN 기반의 MAC 연산, 텍스트는 트랜스포머 기반의 행렬 곱 연산이 중심이 되는 등 멀티모달 모델은 다양한 연산 패턴을 포함합니다. 이러한 이질적인 연산을 하나의 NPU에서 효율적으로 지원하기 위해, 특정 연산에 최적화된 하드웨어 블록을 포함하거나 여러 연산을 범용적으로 매핑할 수 있는 PE 배열 구조를 연구합니다. 더 나아가 workload를 실시간 모니터링하여 연산 자원을 동적으로 스케줄링하는 기법도 필요합니다.

* **데이터 융합 가속**<br>
멀티모달 AI의 핵심은 다양한 modality의 데이터를 효과적으로 결합하는 것입니다. 융합 과정에서 발생하는 연산 병목을 줄이기 위해, 전용 하드웨어 모듈을 설계하거나 데이터 흐름을 최적화하는 스케줄링 기법을 적용할 수 있습니다. 특히 cross-attention 기반의 융합 연산을 가속하기 위한 구조적 최적화도 중요한 고려 사항입니다.

* **온칩 메모리(SRAM) 관리**<br>
온디바이스 기기는 클라우드 서버와 달리 낮은 전력 소모, 제한된 메모리, 짧은 응답 시간이 핵심 요구사항입니다. 멀티모달 모델은 연산량이 많아 NPU의 전력 소모를 크게 증가시키는데, 특히 온칩 SRAM은 전력 소비와 칩 면적에 직결되므로 효율적인 관리가 필요합니다. 필요한 데이터는 미리 prefetching 하고, 불필요한 데이터는 신속히 제거하는 정책을 적용합니다. 또한 on-chip SRAM, off-chip DRAM, 버퍼, 레지스터 간의 메모리 계층 구조를 고려한 통합 관리 전략을 고안합니다. 

### 3. 성능 분석 및 평가
멀티모달 워크로드(이미지 인코더 + 텍스트 인코더 + 디코더)를 시뮬레이터에서 실행하여, 기존 아키텍처와 제안된 아키텍처의 성능을 비교 평가합니다. 

주요 성능 지표는 Latency, Throughput, Utilization, Energy Efficiency 입니다. 

## 🙋🏻‍♀️ Project Plan
* 2025년 9월: 선행 연구 분석 및 문제 정의
* 2025년 10월: 아키텍처 아이디어 제안하여 주체 구체화
* 2025년 겨울: 시뮬레이터 구현 및 성능 측정 후 아키텍처 최적화
* 2026년 봄: 학회 논문 작성 및 발표
